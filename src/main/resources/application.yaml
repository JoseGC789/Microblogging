spring:
  threads:
    virtual:
      enabled: true
  application:
    name: microblogging
  data:
    mongodb:
      auto-index-creation: true
  mongodb:
    auto-index-creation: true
    uuid-representation: standard
    host: ${DB_HOST:localhost}
    port: ${DB_PORT:27017}
    database: ${DB_NAME:microblogging}
    username: ${DB_USER:admin}
    password: ${DB_PWD:password}
    authentication-database: ${DB_AUTH:admin}
  kafka:
    bootstrap-servers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
    producer:
      bootstrap-servers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JacksonJsonSerializer
    consumer:
      bootstrap-servers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JacksonJsonDeserializer
      group-id: ${KAFKA_CONSUMER_GROUP:timeline-workers}
      properties:
        spring:
          json:
            trusted:
              packages: '*'

app:
  fan-out-write-threshold: ${FAN_OUT_WRITE_THRESHOLD:1000}
  kafka:
    topic-publications: ${APP_KAFKA_TOPIC_PUBLICATIONS:publications}
    topic-publication-deletes: ${APP_KAFKA_TOPIC_PUBLICATION_DELETES:publication-deletes}
  timeline:
    default-limit: ${APP_TIMELINE_DEFAULT_LIMIT:20}
    max-limit: ${APP_TIMELINE_MAX_LIMIT:200}

logging:
  level:
    root: INFO
    org.springframework.kafka: INFO
    com.github.josegc789.microblogging: DEBUG